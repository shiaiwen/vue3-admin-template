import{d as S,u as U,a as k,b as C,r as _,c as I,e as l,o as N,f as R,g as e,w as a,h as B,i as F,E as f,p as $,j as q,k as g,_ as P}from"./index-iq3_YIvd.js";import{g as T}from"./time-DRwa_Ayx.js";const w=n=>($("data-v-bd75553e"),n=n(),q(),n),j={class:"login_wrapper"},z=w(()=>g("h1",null,"你好",-1)),L=w(()=>g("h2",null,"欢迎来到后台管理系统",-1)),A=S({__name:"index",setup(n){const v=U(),p=k();let h=C(),c=_();const r=I({username:"admin",password:"atguigu123"});let u=_(!1);const x=async()=>{await c.value.validate(),u.value=!0;try{u.value=!1,await h.userLogin(r);let t="/";p.query.redirect&&(t=p.query.redirect),v.push(t),f({message:"登录成功",title:`hello,${T()}好`,type:"success"})}catch(t){u.value=!1,f({type:"error",message:t.message})}},y={username:[{validator:(t,o,s)=>{o.length>=5?s():s(new Error("账号长度至少5位"))},trigger:"blur"}],password:[{validator:(t,o,s)=>{o.length>=6?s():s(new Error("密码长度至少6位"))},trigger:"blur"}]};return(t,o)=>{const s=l("el-col"),m=l("el-input"),d=l("el-form-item"),V=l("el-button"),b=l("el-form"),E=l("el-row");return N(),R("div",j,[e(E,null,{default:a(()=>[e(s,{span:12,xs:0}),e(s,{span:12,xs:24},{default:a(()=>[e(b,{class:"login_form",model:r,rules:y,ref_key:"ruleFormRef",ref:c},{default:a(()=>[z,L,e(d,{prop:"username"},{default:a(()=>[e(m,{"prefix-icon":"user",modelValue:r.username,"onUpdate:modelValue":o[0]||(o[0]=i=>r.username=i)},null,8,["modelValue"])]),_:1}),e(d,{prop:"password"},{default:a(()=>[e(m,{type:"password","prefix-icon":"lock","show-password":"",modelValue:r.password,"onUpdate:modelValue":o[1]||(o[1]=i=>r.password=i)},null,8,["modelValue"])]),_:1}),e(d,null,{default:a(()=>[e(V,{type:"primary",loading:B(u),size:"default",class:"login-btn",onClick:x},{default:a(()=>[F(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}}),K=P(A,[["__scopeId","data-v-bd75553e"]]);export{K as default};
